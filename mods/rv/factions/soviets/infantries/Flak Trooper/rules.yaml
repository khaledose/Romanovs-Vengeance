flakt:
	Inherits: ^Infantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@CHAOS: ^Berserkable
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllable
	Inherits@PARACHUTE: ^Parachutable
	Inherits@VOICES: ^WithFeedbackVoicelines
	Buildable:
		Queue: Infantry.Shared, Infantry.Soviets, Infantry.Cuba, Infantry.Iraq, Infantry.Libya
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 60
		Description: Anti-Air and anti-Infantry unit.\n\n  Strong vs Infantry, Aircraft\n  Weak vs Vehicles\n\nUpgradeable with:\n- Bullet-Proof Coats
		Prerequisites: ~infantry.soviets, naradr, ~techlevel.1
		BuildDuration: 175
		BuildDurationModifier: 100
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 300
	DeliversCash:
		Payload: 150
		Voice: Move
	Tooltip:
	Tooltip@NoRow:
		Name: Flak Trooper
	Selectable:
		Bounds: 482, 1448, 0, -530
	Health:
		HP: 12500
	Garrisoner:
		Voice: Move
		GarrisonType: Garrisoner
	Passenger:
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Range: 6c0
	RevealOnDeath:
		Radius: 6c0
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 2
	Armament@primary:
		Weapon: FlakGuyGun
		Damage: 20
		LocalOffset: 256,0,1024
		MuzzleSequence: muzzle
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !impflaks && !rank-elite
	Armament@primary-insta:
		Weapon: FlakGuyGunInsta
		Damage: 20
		LocalOffset: 256,0,1024
		MuzzleSequence: muzzle
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: impflaks && !rank-elite
	Armament@secondary:
		Weapon: FlakGuyAAGun
		LocalOffset: 256,0,1024
		MuzzleSequence: muzzle
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !rank-elite
	Armament@primary-elite:
		Weapon: FlakGuyGunE
		Damage: 40
		LocalOffset: 256,0,1024
		MuzzleSequence: muzzle
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !impflaks && rank-elite
	Armament@primary-insta-elite:
		Weapon: FlakGuyGunInstaE
		Damage: 40
		LocalOffset: 256,0,1024
		MuzzleSequence: muzzle
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: impflaks && rank-elite
	Armament@secondary-elite:
		Weapon: FlakGuyAAGunE
		LocalOffset: 256,0,1024
		MuzzleSequence: muzzle
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: rank-elite
	Armament@primary-garrisoned:
		Name: garrisoned
		Weapon: UCFlakGuyGun
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !impflaks && !rank-elite
	Armament@primary-garrisoned-insta:
		Name: garrisoned
		Weapon: UCFlakGuyGunInsta
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: impflaks && !rank-elite
	Armament@secondary-garrisoned:
		Name: garrisoned
		Weapon: UCFlakGuyAAGun
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !rank-elite
	Armament@primary-elite-garrisoned:
		Name: garrisoned
		Weapon: UCFlakGuyGunE
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !impflaks && rank-elite
	Armament@primary-elite-garrisoned-insta:
		Name: garrisoned
		Weapon: UCFlakGuyGunInstaE
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: impflaks && rank-elite
	Armament@secondary-elite-garrisoned:
		Name: garrisoned
		Weapon: UCFlakGuyAAGunE
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: rank-elite
	Armament@primary-opentopped:
		Name: opentopped
		Weapon: FlakGuyGun
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !impflaks && !rank-elite
	Armament@primary-opentopped-insta:
		Name: opentopped
		Weapon: FlakGuyGunInsta
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: impflaks && !rank-elite
	Armament@secondary-opentopped:
		Name: opentopped
		Weapon: FlakGuyAAGun
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !rank-elite
	Armament@primary-elite-opentopped:
		Name: opentopped
		Weapon: FlakGuyGunE
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: !impflaks && rank-elite
	Armament@primary-elite-opentopped-insta:
		Name: opentopped
		Weapon: FlakGuyGunInstaE
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: impflaks && rank-elite
	Armament@secondary-elite-opentopped:
		Name: opentopped
		Weapon: FlakGuyAAGunE
		LocalOffset: 256,0,1024
		PauseOnCondition: chronodisable || webdisable || dogstun
		RequiresCondition: rank-elite
	WithMuzzleOverlay:
	WithInfantryBody:
		RequiresCondition: !parachute && !webdisable && !bulletproof
	WithInfantryBody@BULLETPROOF:
		IdleSequences: idle1-bulletproof, idle2-bulletproof
		MoveSequence: run-bulletproof
		StandSequences: stand-bulletproof
		DefaultAttackSequence: shoot-bulletproof
		RequiresCondition: !parachute && !webdisable && bulletproof
	WithSpriteBody@Parachute:
		RequiresCondition: parachute && !bulletproof
	WithSpriteBody@Parachute-BULLETPROOF:
		Name: parachute
		Sequence: paradrop-bulletproof
		RequiresCondition: parachute && bulletproof
	WithDeathAnimation@normal:
		RequiresCondition: !bulletproof
	WithDeathAnimation@BULLETPROOF:
		DeathSequence: die-bulletproof
		DeathSequencePalette: infantry
		DeathTypes:
			ExplosionDeath: 1
			BulletDeath: 2
		RequiresCondition: bulletproof
	Voiced:
		VoiceSet: FlakTrooperVoice
	ProducibleWithLevel@1:
		Prerequisites: vete2flaktorbaacdm
	WithProductionIconOverlay@1:
		Prerequisites: vete2flaktorbaacdm
		Types: chevron-veteran
	ProducibleWithLevel@2:
		Prerequisites: vete2flakt, baacdm
	WithProductionIconOverlay@2:
		Prerequisites: vete2flakt, baacdm
		Types: chevron-elite
	QuantizeFacingsFromSequence:
		Sequence: stand
	ActorStatValues:
		SplitRanges: true

