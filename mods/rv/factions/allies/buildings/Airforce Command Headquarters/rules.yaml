gaairc:
	Inherits: ^Radar
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SPY: ^DisabledByInfiltration
	Inherits@Special: AmericanParaDropSpecial
	Inherits@SHAPE: ^3x2Shape
	Buildable:
		Queue: Building.Shared, Building.Allies
		Prerequisites: ~building.allies, garefn, ~techlevel.2
		Description: Provides radar.\nProduces Allied aircraft.\nSupports 4 aircraft.\nResearches basic upgrades.\n\nProvides a different support power depening on the subfaction:\n- Airborne (United States)\n- Carpet Bombing (United Kingdom)\n- Force Shield (France)\n- Chrono Grizzly (Germany)\n- Chronobomb (Korea)\n\nAbilities:\n- Comes with 3 repair drones.
	Tooltip:
		Name: Airforce Command Headquarters
	Tooltip@NoRow:
		Name: Airforce Command Headquarters
	ProvidesPrerequisite@production:
		Prerequisite: production
	ProvidesPrerequisite@buildingname:
		Prerequisite: gaairc
	ProvidesPrerequisite@aircraft.allies:
		Prerequisite: aircraft.allies
	ProvidesPrerequisite@aircraft.america:
		Prerequisite: aircraft.america
		Factions: america
	ProvidesPrerequisite@aircraft.england:
		Prerequisite: aircraft.england
		Factions: england
	ProvidesPrerequisite@aircraft.korea:
		Prerequisite: aircraft.korea
		Factions: korea
	ProvidesPrerequisite@america:
		Prerequisite: radar.america
		Factions: america
	ProvidesPrerequisite@england:
		Prerequisite: radar.england
		Factions: england
	ProvidesPrerequisite@germany:
		Prerequisite: radar.germany
		Factions: germany
	ProvidesPrerequisite@france:
		Prerequisite: radar.france
		Factions: france
	ProvidesPrerequisite@korea:
		Prerequisite: radar.korea
		Factions: korea
	ProvidesPrerequisite@upgrade.america:
		Prerequisite: upgrade.america
		Factions: america
	ProvidesPrerequisite@upgrade.england:
		Prerequisite: upgrade.england
		Factions: england
	ProvidesPrerequisite@upgrade.germany:
		Prerequisite: upgrade.germany
		Factions: germany
	ProvidesPrerequisite@upgrade.france:
		Prerequisite: upgrade.france
		Factions: france
	ProvidesPrerequisite@upgrade.korea:
		Prerequisite: upgrade.korea
		Factions: korea
	ProvidesPrerequisite@upgrade.allies:
		Prerequisite: upgrade.allies
	Building:
		Footprint: x=x x==
		Dimensions: 3,2
	WithIdleOverlay@bottom:
		Sequence: idle-bottom
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@idle-pad-lights:
		Sequence: idle-pad-lights
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@mid:
		Sequence: idle-mid
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@bottom-lights:
		Sequence: idle-bottom-lights
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || infiltrated
	Reservable:
	ExitsDebugOverlay:
	Exit@1:
		Facing: 896
		SpawnOffset: 1086,362,0
		ExitCell: 3,-1
	Exit@2:
		Facing: 896
		SpawnOffset: -362,-1086,0
		ExitCell: 1,-1
	Exit@3:
		Facing: 896
		SpawnOffset: -384,512,0
		ExitCell: 1,2
	Exit@4:
		Facing: 896
		SpawnOffset: 384,768,0
		ExitCell: 3,2
	GrantExternalConditionToOwner:
		Condition: airdock
	GrantExternalConditionToProduced:
		Condition: produced
	Production@Shared:
		Produces: Aircraft.Shared
		PauseOnCondition: powerdown || infiltrated || emp || chronodisable
		RequiresCondition: !multiqueue
	Production:
		Produces: Aircraft.Allies, Aircraft.USA, Aircraft.UK, Aircraft.Korea
		PauseOnCondition: powerdown || infiltrated || emp || chronodisable
		RequiresCondition: multiqueue
	ProductionQueue:
		Type: Aircraft.Allies
		Group: Aircraft
		DisplayOrder: 25
		LowPowerModifier: 200
		Factions: germany, france, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, libya, iraq, russia, vietnam, chile, mexico, mongolia, psicorps, psinepal, psisouth, psitrans, psimoon, transcaucus, turkmen, tuva, russianfed, serbia
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@USA:
		Type: Aircraft.USA
		Group: Aircraft
		DisplayOrder: 25
		LowPowerModifier: 200
		Factions: america
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@UK:
		Type: Aircraft.UK
		Group: Aircraft
		DisplayOrder: 25
		LowPowerModifier: 200
		Factions: england
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Korea:
		Type: Aircraft.Korea
		Group: Aircraft
		DisplayOrder: 25
		LowPowerModifier: 200
		Factions: korea
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@Shared:
		ProductionType: Aircraft.Shared
	ProductionBar:
		ProductionType: Aircraft.Allies
	ProductionBar@USA:
		ProductionType: Aircraft.USA
	ProductionBar@UK:
		ProductionType: Aircraft.UK
	ProductionBar@Korea:
		ProductionType: Aircraft.Korea
	RallyPoint:
		Path: 1,2
		Palette: mouse
		IsPlayerPalette: false
	CommandBarBlacklist:
		DisableStop: false
	SpawnNeighboringActors:
		ActorTypes: gadock
		Locations: 1,0, 1,1, 2,1
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Repair, AirRepair, SeaAnimalRepair
		ValidRelationships: Ally
	AttackOmni:
		PauseOnCondition: chronodisable || disabled
	Armament:
		Weapon: RepairDroneSpawn
		Cursor: repair
		OutsideRangeCursor: repair
		TargetRelationships: Ally
		ForceTargetRelationships: Ally
		PauseOnCondition: build-incomplete
	# DroneSpawnerMaster:
	# 	Actors: repdron, repdron, repdron
	# 	SpawnOffset: -362,-1086,0, -384,512,0, 384,768,0
	# 	GatherCell: 1,0, 1,1, 2,1
	WithRangeCircle:
		Range: 6c0
		Type: repair
		Color: FF0000CC
		BorderWidth: 0
		Width: 2
	PlaceBuildingVariants:
		Actors: gaairb
	IsometricSelectable:
		Class: gaairc
		DecorationHeight: 105
	Voiced:
		VoiceSet: AirfieldVoice
		Volume: 0.8
	ActorStatValues:
		Armaments: none

gabarl:
	Inherits: camisc02
	-Buildable:
	KillsSelf@Explode:
		Delay: 125
		DamageTypes: NonTemporal
	RenderSprites:
		Image: camisc08
	Explodes:
		Weapon: SmallChronobombExplode

gabarls:
	Inherits: camisc01
	-Buildable:
	KillsSelf@Explode:
		Delay: 125
		DamageTypes: NonTemporal
	RenderSprites:
		Image: camisc07
	Explodes:
		Weapon: LargeChronobombExplode

gaairb:
	Inherits: gaairc
	Inherits@SHAPE: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx == x=
		Dimensions: 2,3
	RallyPoint:
		Path: 2,1
	Exit@1:
		SpawnOffset: -1024,512,0
	Exit@2:
		SpawnOffset: -512,1024,0
	Exit@3:
		SpawnOffset: 512,512,0
	Exit@4:
		SpawnOffset: -512,-512,0
	SpawnNeighboringActors:
		Locations: 0,1, 1,1, 1,2
	# DroneSpawnerMaster:
	# 	SpawnOffset: -512,1024,0, 512,512,0, -512,-512,0
	# 	GatherCell: 0,1, 1,1, 1,2
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: gaairc

gadock:
	Interactable:
	AlwaysVisible:
	Reservable:
	GrantExternalConditionToOwner:
		Condition: airdock
	GrantCondition:
		Condition: dontmove
	Mobile:
		Speed: 1
		Locomotor: amphibious
		PauseOnCondition: dontmove
	Exit@1:
		Facing: 896
	RejectsOrders:
