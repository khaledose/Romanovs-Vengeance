spy:
	Inherits: ^Infantry
	Inherits@PARACHUTE: ^Parachutable
	Inherits@SWIMSUIT: ^WithSwimSuit
	Inherits@VOICES: ^WithFeedbackVoicelines
	Buildable:
		Queue: Infantry.Shared, Infantry.Allies, Infantry.USA, Infantry.UK, Infantry.France, Infantry.Korea
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 80
		Prerequisites: ~infantry.allies, gatech, ~techlevel.3
		Description: Infiltrates enemy structures for intel or sabotage.\nExact effect depends on the\nbuilding infiltrated.\n\n  Unarmed\n\nAbilities:\n- Can swim\n- Can disguise as an enemy infantry
		BuildDuration: 250
		BuildDurationModifier: 100
	Valued:
		Cost: 500
	DeliversCash:
		Payload: 250
		Voice: Move
	-Tooltip:
	-Tooltip@NoRow:
	DisguiseTooltip:
		GenericName: Soldier
		RequiresCondition: showownername
	DisguiseTooltip@NoRow:
		Name: Spy
		GenericName: Soldier
		ShowOwnerRow: false
		RequiresCondition: !showownername
	Selectable:
		Bounds: 579, 1351, -24, -386
	Health:
		HP: 10000
	Mobile:
		Locomotor: swimsuit
	Garrisoner:
		Voice: Move
		CustomPipType: yellow
		GarrisonType: Garrisoner
	Passenger:
		CustomPipType: yellow
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Range: 6c0
	RevealOnDeath:
		Radius: 6c0
	TakeCover:
	Disguise:
		DisguisedCondition: disguise
		DisguisedAsConditions:
			dog: swim-disguise
			engineer: swim-disguise
			ghost: swim-disguise
			spy: swim-disguise
			sspy: swim-disguise
			hjck: swim-disguise
			tany: swim-disguise
			boris: swim-disguise
			yurix: swim-disguise-yuri
	Infiltrates:
		Types: SpyInfiltrate
	-WithInfantryBody:
	WithDisguisingInfantryBody:
		IdleSequences: idle1,idle2
		StandSequences: stand
		RequiresCondition: !parachute && !webdisable && !swimming
	WithInfantryBody@Water:
		RequiresCondition: !parachute && !webdisable && swimming && !swim-disguise && !swim-disguise-yuri
	WithDisguisingInfantryBody@water:
		Name: swim
		IdleSequences: swim-idle1,swim-idle2
		MoveSequence: swim-run
		StandSequences: swim-stand
		RequiresCondition: !parachute && !webdisable && swimming && (swim-disguise || swim-disguise-yuri)
	WithDecoration@disguise:
		Image: pips
		Sequence: pip-disguise
		Palette: pips
		Position: TopRight
		RequiresCondition: disguise
	LeavesTrails:
		Image: wake
		Palette: effect50alpha
		TerrainTypes: Water, Beach
		StationaryInterval: 18
		MovingInterval: 6
		RequiresCondition: !parachute && !webdisable && swimming && swim-disguise-yuri
	Voiced:
		VoiceSet: SpyVoice
	Guard:
		Voice: Action
	AttackMove:
		Voice: Action
	QuantizeFacingsFromSequence:
		Sequence: stand

