yaggun:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@DRAIN: ^DiskDefenseDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Shared, Support.Yuri
		BuildPaletteOrder: 40
		Prerequisites: ~building.yuri, yabrck, ~techlevel.1
		Description: Automated anti-infantry and anti-air defense.\n\n  Strong vs Infantry, Aircraft\n  Weak vs Vehicles\n\nAbilities:\n- Can detect Steath units\n\nUpgradeable with:\n- Chainguns\n\n  Requires power to operate.
		BuildDuration: 375
		BuildDurationModifier: 100
	Health:
		HP: 60000
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 8c0
	Building:
		Footprint: x
		Dimensions: 1, 1
	Valued:
		Cost: 800
	Tooltip:
	Tooltip@NoRow:
		Name: Gatling Cannon
	Turreted:
		TurnSpeed: 40
		InitialFacing: 896
		RealignDelay: -1
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || chronodisable
	Armament@ag-0:
		Weapon: AGGattCann
		LocalOffset: 640,240,1024, 640,-240,1024
		MuzzleSequence: muzzle
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
		RequiresCondition: !gatling
	Armament@ag-1:
		Weapon: AGGattCann2
		LocalOffset: 640,240,1024, 640,-240,1024
		MuzzleSequence: muzzle-1
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
		RequiresCondition: gatling == 1
	Armament@ag-2:
		Weapon: AGGattCann3
		LocalOffset: 640,240,1024, 640,-240,1024
		MuzzleSequence: muzzle-2
		ReloadingCondition: reload-ground
		PauseOnCondition: reload-air
		RequiresCondition: gatling >= 2
	Armament@aa-0:
		Weapon: AAGattCann
		LocalOffset: 640,240,1024, 640,-240,1024
		MuzzleSequence: muzzle
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
		RequiresCondition: !gatling
	Armament@aa-1:
		Weapon: AAGattCann2
		LocalOffset: 640,240,1024, 640,-240,1024
		MuzzleSequence: muzzle-1
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
		RequiresCondition: gatling == 1
	Armament@aa-2:
		Weapon: AAGattCann3
		LocalOffset: 640,240,1024, 640,-240,1024
		MuzzleSequence: muzzle-2
		ReloadingCondition: reload-air
		PauseOnCondition: reload-ground
		RequiresCondition: gatling >= 2
	GrantConditionOnAttack:
		Condition: gatling
		RequiredShotsPerInstance: 12, 24
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: false
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
		Scale: 18
	WithMuzzleOverlay:
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	WithRangeCircle:
		Range: 5c0
		Type: pillbox
	WithRangeCircle@AA:
		Range: 12c0
		Type: aa
	Power:
		Amount: -40
		RequiresCondition: !chronodisable
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || diskdrain
	IsometricSelectable:
		Class: yaggun
		DecorationHeight: 45
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !disabled
	RenderDetectionCircle:
	WithIdleOverlay@waves:
		Sequence: idle-waves
		RequiresCondition: in_water
	Voiced:
		VoiceSet: GatlingCannonVoice
		Volume: 0.8
	ActorStatValues:
		Damage: 30
		SplitRanges: true

