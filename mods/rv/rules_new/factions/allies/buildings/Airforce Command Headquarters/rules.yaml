gaairc:
	Inherits: ^Radar
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@Special: AmericanParaDropSpecial
	Inherits@SHAPE: ^3x2Shape
	Buildable:
		Queue: Building.Shared, Building.Allies
		Prerequisites: ~building.allies, garefn, ~techlevel.2
		Description: Provides radar.\nProduces Allied aircraft.\nSupports 4 aircraft.\nResearches basic upgrades.\n\nProvides a different support power depening on the subfaction:\n- Airborne (United States)\n- Carpet Bombing (United Kingdom)\n- Force Shield (France)\n- Chrono Grizzly (Germany)\n- Chronobomb (Korea)\n\nAbilities:\n- Comes with 3 repair drones.
	Tooltip:
		Name: Airforce Command Headquarters
	Tooltip@NoRow:
		Name: Airforce Command Headquarters
	ProvidesPrerequisite@buildingname:
		Prerequisite: gaairc
	ProvidesPrerequisite@aircraft.allies:
		Prerequisite: aircraft.allies
	ProvidesPrerequisite@aircraft.korea:
		Prerequisite: aircraft.korea
		Factions: korea
	ProvidesPrerequisite@radar.america:
		Prerequisite: radar.america
		Factions: america
	Building:
		Footprint: x=x x==
		Dimensions: 3,2
	WithIdleOverlay@bottom:
		Sequence: idle-bottom
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@idle-pad-lights:
		Sequence: idle-pad-lights
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@mid:
		Sequence: idle-mid
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@bottom-lights:
		Sequence: idle-bottom-lights
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown
	Reservable:
	ExitsDebugOverlay:
	Exit@1:
		Facing: 896
		SpawnOffset: 1086,362,0
		ExitCell: 3,-1
	Exit@2:
		Facing: 896
		SpawnOffset: -362,-1086,0
		ExitCell: 1,-1
	Exit@3:
		Facing: 896
		SpawnOffset: -384,512,0
		ExitCell: 1,2
	Exit@4:
		Facing: 896
		SpawnOffset: 384,768,0
		ExitCell: 3,2
	GrantExternalConditionToOwner:
		Condition: airdock
	GrantExternalConditionToProduced:
		Condition: produced
	Production@Shared:
		Produces: Aircraft.Shared
		PauseOnCondition: powerdown || chronodisable
		RequiresCondition: !multiqueue
	Production:
		Produces: Aircraft.Allies, Aircraft.Korea
		PauseOnCondition: powerdown || chronodisable
		RequiresCondition: multiqueue
	ProductionQueue:
		Type: Aircraft.Allies
		Group: Aircraft
		DisplayOrder: 25
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		ReadyTextNotification: Unit ready.
		BlockedAudio: NoBuild
		BlockedTextNotification: Unable to build more.
		LimitedAudio: BuildingInProgress
		LimitedTextNotification: Unable to comply. Building in progress.
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@Shared:
		ProductionType: Aircraft.Shared
	ProductionBar:
		ProductionType: Aircraft.Allies
	RallyPoint:
		Path: 1,2
		Palette: mouse
		IsPlayerPalette: false
	CommandBarBlacklist:
		DisableStop: false
	SpawnNeighboringActors:
		ActorTypes: gadock
		Locations: 1,0, 1,1, 2,1
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Repair, AirRepair, SeaAnimalRepair
		ValidRelationships: Ally
	AttackOmni:
		PauseOnCondition: chronodisable || disabled
	WithRangeCircle:
		Range: 6c0
		Type: repair
		Color: FF0000CC
		BorderWidth: 0
		Width: 2
	PlaceBuildingVariants:
		Actors: gaairb
	IsometricSelectable:
		Class: gaairc
		DecorationHeight: 105
	Voiced:
		VoiceSet: AirfieldVoice
		Volume: 0.8
	ProvidesPrerequisite@AIantiRush:
		Prerequisite: AIantiRush ## Hack: AI Building control. AI build refinary only when it has a combat producing line.
	ActorStatValues:
		Armaments: none

gaairb:
	Inherits: gaairc
	Inherits@SHAPE: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx == x=
		Dimensions: 2,3
	RallyPoint:
		Path: 2,1
	Exit@1:
		SpawnOffset: -1024,512,0
	Exit@2:
		SpawnOffset: -512,1024,0
	Exit@3:
		SpawnOffset: 512,512,0
	Exit@4:
		SpawnOffset: -512,-512,0
	SpawnNeighboringActors:
		Locations: 0,1, 1,1, 1,2
	ActorStatValues:
		Icon: icon
		IconPalette: chrome
		TooltipActor: gaairc

gadock:
	Interactable:
	AlwaysVisible:
	Reservable:
	GrantExternalConditionToOwner:
		Condition: airdock
	GrantCondition:
		Condition: dontmove
	Mobile:
		Speed: 1
		Locomotor: amphibious
		PauseOnCondition: dontmove
	Exit@1:
		Facing: 896
	RejectsOrders:
