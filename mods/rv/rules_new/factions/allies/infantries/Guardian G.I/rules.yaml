ggi:
	Inherits: ^Infantry
	Inherits@AI: ^AIMicroManagable
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@VETERAN: ^InfantryPromotable
	Inherits@CHAOS: ^Berserkable
	Inherits@MC: ^MindControllable
	Inherits@PARACHUTE: ^Parachutable
	Inherits@VOICES: ^WithFeedbackVoicelines
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && undeployed && !portable && !ai-control
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: (stance-attackanything || assault-move) && undeployed && !portable && !ai-control
	AutoTargetPriority@AI:
		RequiresCondition: ai-control && undeployed && !portable
		ValidTargets: Infantry, Vehicle, TerrorDrone, Water, Underwater, Air, Structure, Defense
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@DEFAULT_ALL:
		RequiresCondition: (!stance-attackanything && !assault-move) && (deployed || portable)
		ValidTargets: Infantry, Vehicle, TerrorDrone, Water, Underwater, Air, Defense
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@ATTACKANYTHING_ALL:
		RequiresCondition: (stance-attackanything || assault-move) && (deployed || portable)
		ValidTargets: Infantry, Vehicle, TerrorDrone, Water, Underwater, Air, Structure, Defense
		InvalidTargets: NoAutoTarget
	Buildable:
		Queue: Infantry.Shared, Infantry.Allies
		BuildAtProductionType: Soldier
		Prerequisites: ~infantry.allies, ~techlevel.1
		BuildPaletteOrder: 20
		Description: Anti-tank and anti-air infantry.\nCan deploy to gain more range.\n\n  Strong vs Vehicles, Aircraft\n  Weak vs Buildings\n\nUpgradeable with:\n- Fiber-Reinforced Fortifications\n-\n- Advanced Training\n- Boost-Gliding Systems (United States)\n- Portable Weaponry (United Kingdom)
		BuildDuration: 175
		BuildDurationModifier: 100
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 300
	DeliversCash:
		Payload: 150
		Voice: Move
	Tooltip:
	Tooltip@NoRow:
		Name: Guardian G.I.
	Selectable:
		Bounds: 482, 1448, 0, -530
	Health:
		HP: 12500
	Mobile:
		Speed: 60
		RequireForceMoveCondition: !undeployed
	Garrisoner:
		Voice: Move
		CustomPipType: blue
		GarrisonType: Garrisoner
	Passenger:
		CustomPipType: blue
		RequireForceMoveCondition: !undeployed
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Range: 6c0
	RevealOnDeath:
		Radius: 6c0
	Crushable:
		RequiresCondition: !cheater-ai && !vengeful-ai && undeployed
	Crushable@Cheater:
		RequiresCondition: cheater-ai && undeployed
	Crushable@Vengeful:
		RequiresCondition: vengeful-ai && undeployed
	Crushable@deployed:
		WarnProbability: 0
		CrushClasses: vehicle
		CrushSound: igensqua.wav
		RequiresCondition: !undeployed
	Armament@primary:
		Weapon: M60
		Damage: 15
		PauseOnCondition: chronodisable
		RequiresCondition: !rank-elite && !deployed && !portable
	Armament@elite:
		Weapon: M60E
		Damage: 20
		PauseOnCondition: chronodisable
		RequiresCondition: rank-elite && !deployed && !portable
	Armament@portable:
		Weapon: MissileLauncher
		Damage: 40
		LocalOffset: 480,63,992
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: !rank-elite && portable && !deployed
	Armament@elite-portable:
		Weapon: MissileLauncherE
		Damage: 80
		LocalOffset: 480,64,992
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: rank-elite && portable && !deployed
	Armament@portable-aa:
		Weapon: MissileLauncherAA
		LocalOffset: 480,63,992
		EnableSplitRanges: true
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: !rank-elite && portable && !deployed
	Armament@elite-portable-aa:
		Weapon: MissileLauncherAAE
		LocalOffset: 480,64,992
		EnableSplitRanges: true
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: rank-elite && portable && !deployed
	Armament@deployed:
		Name: deployed
		Weapon: MissileLauncher
		Damage: 40
		Turret: deploy
		LocalOffset: 480,63,992
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: !rank-elite && deployed
	Armament@elite-deployed:
		Name: deployed
		Weapon: MissileLauncherE
		Damage: 80
		Turret: deploy
		LocalOffset: 480,64,992
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: rank-elite && deployed
	Armament@deployed-aa:
		Name: deployed
		Weapon: MissileLauncherAA
		Turret: deploy
		LocalOffset: 480,63,992
		EnableSplitRanges: true
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: !rank-elite && deployed
	Armament@elite-deployed-aa:
		Name: deployed
		Weapon: MissileLauncherAAE
		Turret: deploy
		LocalOffset: 480,64,992
		EnableSplitRanges: true
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: rank-elite && deployed
	Armament@opentopped:
		Weapon: MissileLauncher
		Name: opentopped
		LocalOffset: 480,63,992
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: !rank-elite
	Armament@elite-opentopped:
		Weapon: MissileLauncherE
		Name: opentopped
		LocalOffset: 480,64,992
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: rank-elite
	Armament@opentopped-aa:
		Weapon: MissileLauncherAA
		Name: opentopped
		LocalOffset: 480,63,992
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: !rank-elite
	Armament@elite-opentopped-aa:
		Weapon: MissileLauncherAAE
		Name: opentopped
		LocalOffset: 480,64,992
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: rank-elite
	Armament@garrisoned:
		Name: garrisoned
		Weapon: UCMissileLauncher
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: !rank-elite
	Armament@elite-garrisoned:
		Name: garrisoned
		Weapon: UCMissileLauncherE
		ReloadingCondition: reload-ground
		PauseOnCondition: chronodisable || reload-air
		RequiresCondition: rank-elite
	Armament@garrisoned-aa:
		Name: garrisoned
		Weapon: UCMissileLauncherAA
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: !rank-elite
	Armament@elite-garrisoned-aa:
		Name: garrisoned
		Weapon: UCMissileLauncherAAE
		ReloadingCondition: reload-air
		PauseOnCondition: chronodisable || reload-ground
		RequiresCondition: rank-elite
	Armament@AIDummyAiming: ## Hack: Make AI GGI deploy to attack air
		PauseOnCondition: chronodisable
		RequiresCondition: ai-control && !deployed
		Weapon: AirDummyAim
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		CanDeployOnRamps: True
		SmartDeploy: True
		Facing: 384
		Voice: Deploy
		UndeployOnMove: true
		DeploySounds: iggidepa.wav
		UndeploySounds: iggidepa.wav
		PauseOnCondition: chronodisable
		RequiresCondition: !parachute
	GrantCondition:
		Condition: editorhack
	WithInfantryBody@Editor: # HACK: negative conditions don't count in EnabledByDefault, we can use this duplicate WIB to render it on map editor
		DefaultAttackSequence: shoot
		RequiresCondition: !editorhack
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: undeployed && !parachute && !portable
	WithInfantryBody@PORTABLE:
		IdleSequences: idle1-portable, idle2-portable
		MoveSequence: run-portable
		StandSequences: stand-portable
		DefaultAttackSequence: shoot-portable
		RequiresCondition: undeployed && !parachute && portable
	WithSpriteBody@Parachute:
		RequiresCondition: parachute && !portable
	WithSpriteBody@Parachute-PORTABLE:
		Name: parachute
		Sequence: paradrop-portable
		RequiresCondition: parachute && portable
	WithDeathAnimation@normal:
		RequiresCondition: !portable
	WithDeathAnimation@PORTABLE:
		DeathSequence: die-portable
		DeathSequencePalette: infantry
		DeathTypes:
			ExplosionDeath: 1
			BulletDeath: 2
		RequiresCondition: portable
	Turreted:
		Turret: deploy
		RealignDelay: -1
		TurnSpeed: 1023
		InitialFacing: 368
	WithSpriteTurret@idle:
		Turret: deploy
		Sequence: deployed
		RequiresCondition: deployed && !animate-turret && !parachute
	WithSpriteTurret@animated:
		Turret: deploy
		Sequence: shoot-deployed
		RequiresCondition: deployed && animate-turret && !parachute
	WithSpriteBody:
		Sequence: dot
		Name: dot
		RequiresCondition: !undeployed
	WithMakeAnimation:
		Sequence: deploy
		BodyNames: dot
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 2
		RequiresCondition: undeployed
	AttackTurreted@deployed:
		Armaments: deployed
		Turrets: deploy
		Voice: Attack
		RequiresCondition: deployed
		OutsideRangeRequiresForceFire: True
	GrantConditionOnAttack:
		Condition: animate-turret
		RevokeDelay: 5
		ArmamentNames: deployed
	RejectsOrders@deployment:
		Reject: AttackMove, AssaultMove
		RequiresCondition: !ai-control && deployed && !chaos
	RejectsMoveToAttack:
		RequiresCondition: !ai-control && deployed && !chaos
	TakeCover:
		RequiresCondition: undeployed
	Voiced:
		VoiceSet: GGIVoice
		Types: chevron-elite
	QuantizeFacingsFromSequence:
		Sequence: stand
	AutoDeployer@AI:
		RequiresCondition: ai-control && !deployed
		DeployChance: 100
		DeployTrigger: Attack
		DeployTicks: 5
		UndeployTicks: 50

