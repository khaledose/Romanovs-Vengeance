^ExistsInWorld:
	AppearsOnRadar:
	UpdatesPlayerStatistics:
	CombatDebugOverlay:
	RenderDebugState:
	DrawLineToTarget:
	GivesVeterancy:
	ScriptTriggers:
	Huntable:

^SpriteActor:
	BodyOrientation:
		UseClassicPerspectiveFudge: false
	QuantizeFacingsFromSequence:
	RenderSprites:

^Voxel:
	RenderVoxels:
		Scale: 11.7
		LightYaw: 800
		LightPitch: 150
		LightAmbientColor: -0.5,-0.5,-0.5
		LightDiffuseColor: 1.3,1.3,1.3

^GainsExperience:
	GainsVeterancy:
		ExperiencePerLevel: 300, 600
		ConditionPerLevel: rank-veteran, rank-elite
		LevelUpNotification: LevelUp
		LevelUpTextNotification: notification-unit-promoted
		LevelUpImage: crate-effects
	VeterancyModifier:
		DamageRates: 110
		StrengthRates: 50
		SpeedRates: 120
		SightRates: 130
		ReloadRates: 60
		HealRates: 0, 10
		ExperienceRates: 200, 300
	VeterancyDecoration:
		Image: rank
		SequencePerLevel: rank-veteran, rank-elite
		Palette: pips
		Position: BottomRight
		ValidRelationships: Ally, Enemy, Neutral
	# WithStatIconOverlay@RANK-1:
	# 	Image: cameo-chevron
	# 	Sequence: veteran
	# 	Palette: pips
	# 	RequiresCondition: rank-veteran

^InfantryPromotable:
	Inherits: ^GainsExperience
	VeterancyOnProduction:
		InitialRank: 1
		Prerequisites: barracks.infiltrated
	WithProductionIconOverlay:
		Types: chevron-veteran
		Prerequisites: barracks.infiltrated

^ProducibleAsVeteranVehicle:
	VeterancyOnProduction:
		InitialRank: 1
		Prerequisites: warfactory.infiltrated
	WithProductionIconOverlay:
		Types: chevron-veteran
		Prerequisites: warfactory.infiltrated

^HospitalHealing:
	ChangesHealth@HOSPITAL:
		PercentageStep: 1
		Delay: 100
		StartIfBelow: 100
		RequiresCondition: heal
	WithDecoration@HOSPITAL:
		Image: tech
		Sequence: heal
		Palette: pips
		Position: TopRight
		RequiresCondition: heal
		ValidRelationships: Ally
	GrantConditionOnPrerequisite@HOSPITAL:
		Condition: heal
		Prerequisites: cahosp
	ExternalCondition@heal:
		Condition: heal

^MachineShopRepair:
	ChangesHealth@MACHINESHOP:
		PercentageStep: 1
		Delay: 100
		StartIfBelow: 100
		RequiresCondition: repair
	WithDecoration@MACHINESHOP:
		Image: tech
		Sequence: repair
		Palette: pips
		Position: TopRight
		RequiresCondition: repair
		ValidRelationships: Ally
	GrantConditionOnPrerequisite@MACHINESHOP:
		Condition: repair
		Prerequisites: camach

^CrateStatModifiers:
	FirepowerMultiplier@CRATES:
		RequiresCondition: crate-firepower
		Modifier: 200
	DamageMultiplier@CRATES:
		RequiresCondition: crate-armor
		Modifier: 67
	SpeedMultiplier@CRATES:
		RequiresCondition: crate-speed
		Modifier: 120
	ExternalCondition@CRATE-FIREPOWER:
		Condition: crate-firepower
		TotalCap: 1
	ExternalCondition@CRATE-ARMOR:
		Condition: crate-armor
		TotalCap: 1
	ExternalCondition@CRATE-SPEED:
		Condition: crate-speed
		TotalCap: 1

^LowHealthSpeedPenalty:
	SpeedMultiplier@CRITICAL:
		Modifier: 75
		RequiresCondition: critical
	GrantConditionOnDamageState@CRITICAL:
		Condition: critical
		ValidDamageStates: Critical

^DamagedByRadiation100Percent:
	DamagedByTintedCells:
		Damage: 100
		DamageLevel: 10
		DamageTypes: Prone100Percent, TriggerProne, RadiationDeath, NonTemporal

^DamagedByRadiation50Percent:
	DamagedByTintedCells:
		Damage: 50
		DamageLevel: 10
		DamageTypes: Prone100Percent, TriggerProne, RadiationDeath, NonTemporal
		RequiresCondition: !airborne

^DamagedByRadiation10Percent:
	DamagedByTintedCells:
		Damage: 10
		DamageLevel: 10
		DamageTypes: Prone100Percent, TriggerProne, RadiationDeath, NonTemporal

^AcceptsIvanBomb:
	Inherits@BOMB: ^IvanBombable
	Inherits@CLEAN: ^IvanBombCleanable
	DelayedWeaponAttachable@IVANBOMB:
		Type: Bomb
		ShowProgressBar: false
		Condition: ivanbomb
	WithDecoration@IVANBOMB:
		RequiresSelection: false
		Image: dynamite
		Sequence: idle
		Palette: mouse
		Position: Center
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: ivanbomb
	AmbientSound@IVANBOMB:
		SoundFiles: icraloop.wav
		Volume: 0.45
		RequiresCondition: ivanbomb

^AcceptsC4:
	Inherits@CLEAN: ^C4Cleanable
	DelayedWeaponAttachable@C4:
		Type: Bomb
		ShowProgressBar: false
		Condition: c4
	WithDecoration@C4:
		RequiresSelection: false
		Image: c4
		Sequence: idle
		Palette: mouse
		Position: Center
		ValidRelationships: Ally, Neutral, Enemy
		RequiresCondition: c4
	AmbientSound@C4:
		SoundFiles: iseatima.wav, iseatima.wav, iseatimc.wav
		Interval: 5
		Volume: 0.65
		RequiresCondition: c4

^Demolitionist:
	Demolition:
		Cursor: c4
		TargetRelationships: Enemy
		Voice: Attack
		DamageTypes: NonTemporal
	AttackFrontal:
		Armaments: primary
	AttackFrontal@secondary:
		Armaments: secondary
		Cursor: c4
		OutsideRangeCursor: c4
		Voice: Attack
		FacingTolerance: 2
		PauseOnCondition: chronodisable

^IronCurtainable:
	Inherits@IC: ^IronCurtained
	WithColoredOverlay@ironcurtain:
		Color: 40000080
		RequiresCondition: invulnerability
	DamageMultiplier@ironcurtain:
		RequiresCondition: invulnerability
		Modifier: 0
	TimedConditionBar@invulnerability:
		Condition: invulnerability
	ExternalCondition@INVULNERABILITY:
		Condition: invulnerability

^KilledByIronCurtain:
	KillsSelf@ironcurtain:
		DamageTypes: FlameDeath, NonTemporal
		RequiresCondition: invulnerability
	ExternalCondition@INVULNERABILITY:
		Condition: invulnerability

^ForceShieldable:
	Inherits: ^PowerOutageOnForceShield
	WithColoredOverlay@forceshield:
		Color: 00004080
		RequiresCondition: forceshield
	DamageMultiplier@forceshield:
		RequiresCondition: forceshield
		Modifier: 0
	TimedConditionBar@forceshield:
		Color: 0000FF
		Condition: forceshield
	Targetable@forceshielded:
		TargetTypes: ForceShielded
		RequiresCondition: forceshield
	ExternalCondition@FORCESHIELD:
		Condition: forceshield

^AffectedByIndustrialPlant:
	ProductionCostMultiplier@1_INDUSTRAL_PLANT:
		Multiplier: 75
		Prerequisites: naindp

^ChronoDisable:
	AffectedByTemporal:
		Condition: affectedbytemporal
		RevokeDelay: 120
		EraseDamageMultiplier: 5
		SelectionBarColor: FFFFFF
	Explodes@ChronoDisable:
		Weapon: TemporalExplosion
		DeathTypes: Temporal
	SpeedMultiplier@ChronoDisable:
		Modifier: 0
		RequiresCondition: chronodisable
	TurnSpeedMultiplier@ChronoDisable:
		Modifier: 0
		RequiresCondition: chronodisable
	WithChronoOverlay:
		Palette: player50alpha
		IsPlayerPallete: true
		Explosions: chronosk
		ExplosionPalette: effect
		RequiresCondition: chronodisable
	GrantCondition@ChronoDisable:
		Condition: chronodisable
		RequiresCondition: affectedbytemporal

^ChronoDisableDisabledWithIC:
	Inherits: ^ChronoDisable
	AffectedByTemporal:
		RequiresCondition: !invulnerability

^ChronoDisableDisabledWithICorForceShield:
	Inherits: ^ChronoDisable
	AffectedByTemporal:
		RequiresCondition: !invulnerability && !forceshield

^Berserkable:
	Inherits@CHAOS: ^ChaosGasable
	FirepowerMultiplier@CHAOS:
		Modifier: 130
		RequiresCondition: chaos
	Berserkable@CHAOS:
		ActorsToIgnore: caos
		RequiresCondition: chaos
	RejectsOrders@CHAOS:
		RequiresCondition: chaos
	WithColoredOverlay@CHAOS:
		Color: 80008040
		RequiresCondition: chaos
	TimedConditionBar@CHAOS:
		Color: 880088
		Condition: chaos
	ExternalCondition@CHAOS:
		Condition: chaos

^BerserkableVoxel:
	Inherits: ^Berserkable
	WithColoredOverlay@CHAOS:
		Color: 2A002A40

^TerrorDronable:
	Inherits@DRONEINFECT: ^DroneInfectable
	InfectableRV:
		RequiresCondition: !chronodisable
		KillInfectorDamageTypes: KillsDrone
		BeingInfectedCondition: beingterrordroned
		InfectedCondition: terrordroned
	RevealsShroud@DRONE:
		Range: 2c0
		ValidRelationships: Enemy, Neutral
		RequiresCondition: terrordroned
	PeriodicExplosion@dronesparks:
		RequiresCondition: terrordroned
		Weapon: DroneSparkSpawner
		LocalOffset: 0,0,384
	SpeedMultiplier@DRONE:
		RequiresCondition: beingterrordroned
		Modifier: 0

^TerrorDronableAircraft:
	Inherits: ^TerrorDronable
	RevealsShroud@DRONE:
		Type: CenterPosition

^SquidGrabbable:
	Inherits@SQUIDINFECT: ^SquidInfectable
	InfectableOld:
		RequiresCondition: !chronodisable
		RemoveInfectorDamageTypes: RemovesSquid
		BeingInfectedCondition: beinginfected
		InfectedByConditions:
			sqd: squid
	RevealsShroud@SQUID:
		Range: 5c0
		ValidRelationships: Enemy, Neutral
		RequiresCondition: squid
	SpeedMultiplier@SQUID:
		RequiresCondition: beinginfected
		Modifier: 0

^WithFeedbackVoicelines:
	GrantRandomCondition@Feedback:
		Conditions: playfeedback , dontplayfeedback, dontplayfeedback, dontplayfeedback
	GrantConditionOnDamageState@Feedback:
		Condition: feedback
		ValidDamageStates: Critical
	VoiceAnnouncement:
		RequiresCondition: feedback && playfeedback
		Voice: Feedback
		ValidRelationships: None

^PlayerHandicaps:
	HandicapFirepowerMultiplier:
	HandicapDamageMultiplier:

^FlatSelectionMode:
	Selectable:
		PriorityModifiers: Ctrl

^LowPrioritySelectionMode:
	Selectable:
		PriorityModifiers: Ctrl, Alt

^Parachutable:
	Parachutable:
		FallRate: 52
		ParachutingCondition: parachute
	WithParachute:
		Image: parach
		ShadowImage: parach
		OpeningSequence: open
		Sequence: idle
		ClosingSequence: close
		ShadowSequence: shadow
		RequiresCondition: parachute
	Passenger:

^ParachutableInfantry:
	Inherits: ^Parachutable
	WithSpriteBody@Parachute:
		Name: parachute
		Sequence: paradrop
		RequiresCondition: parachute
	WithInfantryBody:
		RequiresCondition: !parachute
	Targetable:
		RequiresCondition: !parachute && !affectedbytemporal
	Targetable@airborne:
		TargetTypes: Air
		RequiresCondition: parachute
	WithDeathAnimation@normal:
		RequiresCondition: !parachute
	WithDeathAnimation@effect:
		RequiresCondition: !parachute

^ParachutableVehicle:
	Inherits: ^Parachutable
	Targetable:
		RequiresCondition: !parachute && !affectedbytemporal
	Targetable@airborne:
		TargetTypes: Air
		RequiresCondition: parachute

^WithSwimSuit:
	WithInfantryBody:
		RequiresCondition: !swimming
	WithDeathAnimation@normal:
		RequiresCondition: !swimming
	WithDeathAnimation@effect:
		RequiresCondition: !swimming
	GrantConditionOnTerrain@Water:
		TerrainTypes: Water, Beach
		Condition: swimming
	WithInfantryBody@Water:
		Name: swim
		IdleSequences: swim-idle1,swim-idle2
		MoveSequence: swim-run
		StandSequences: swim-stand
		DefaultAttackSequence: swim-shoot
		RequiresCondition: swimming
	WithDeathAnimation@Water:
		RequiresCondition: swimming
		DeathSequence: swim-die
		DeathTypes:
			ExplosionDeath: 1
			BulletDeath: 2
			RadiationDeath: 1
			PsychicDeath: 2
			ElectroDeath: 1
			VirusDeath: 2
			BruteDeath: 1
	Targetable@WaterBorne:
		TargetTypes: Water
		RequiresCondition: swimming
	LeavesTrails:
		Image: wake
		Palette: effect50alpha
		TerrainTypes: Water, Beach
		StationaryInterval: 18
		MovingInterval: 2

^UnitParticles:
	FloatingSpriteEmitter@1:
		Image: particles
		Sequences: smallsmoke
		Palette: effect
		SpawnFrequency: 3, 10
		Lifetime: 30, 40
		Speed: 32
		Gravity: 48
		Offset: 0,0,192
		Duration: 38
		RequiresCondition: enable_unitsmoke
	GrantConditionOnDamageState@dmg_heavy:
		Condition: dmg_heavy
	GrantPeriodicCondition@enable_unitsmoke:
		Condition: enable_unitsmoke
		CooldownDuration: 10000000
		StartsGranted: true
		RequiresCondition: dmg_heavy

^VehicleParticles:
	Inherits: ^UnitParticles
	PeriodicExplosion@damagesparks:
		RequiresCondition: dmg_heavy
		Weapon: DamageSparkSpawner
		LocalOffset: 0,0,384

^BuildingParticles:
	FloatingSpriteEmitter@1:
		Image: particles
		Sequences: smallsmoke
		Palette: effect
		SpawnFrequency: 6, 20
		Lifetime: 40
		Speed: 32
		Gravity: 48
		Offset: -384,-384,0, 384,384,0
		Duration: 38
		RequiresCondition: dmg_heavy
	FloatingSpriteEmitter@2:
		Image: particles
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Lifetime: 40
		Speed: 0
		Gravity: 0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
		RequiresCondition: dmg_heavy
	FloatingSpriteEmitter@3:
		Image: particles
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Lifetime: 40
		Speed: 0
		Gravity: 0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
		RequiresCondition: dmg_heavy
	FloatingSpriteEmitter@4:
		Image: particles
		Sequences: fire
		Palette: effect
		SpawnFrequency: 96
		Lifetime: 40
		Speed: 0
		Gravity: 0
		Offset: -384,-384,0, 384,384,0
		Duration: 80
		RequiresCondition: dmg_crit
	FloatingSpriteEmitter@5:
		Image: particles
		Sequences: largesmoke
		Palette: effect
		SpawnFrequency: 6, 20
		Lifetime: 40
		Speed: 48
		Gravity: 72
		Offset: -384,-384,0, 384,384,0
		Duration: 38
		RequiresCondition: dmg_crit
	GrantConditionOnDamageState@dmg_heavy:
		Condition: dmg_heavy
	GrantConditionOnDamageState@dmg_crit:
		Condition: dmg_crit
		ValidDamageStates: Critical

^Tractable:
	Tractable:
		TractingCondition: tracted
		AirborneCondition: airborne
		MinAirborneAltitude: 128
		PauseOnCondition: tracted
		DamageTypes: NonTemporal
		CruiseAltitude: 3c0
	Targetable@TRACTED:
		TargetTypes: Tractable
		RequiresCondition: !invulnerability && !chronodisable
	RejectsOrders@TRACTING:
		RequiresCondition: tracted

^Disguisable:
	DisguiseTooltip:
		RequiresCondition: showownername
	DisguiseTooltip@NoRow:
		ShowOwnerRow: false
		RequiresCondition: !showownername
	Disguise:
		DisguisedCondition: disguise
		Cursor: attack
		ValidRelationships: Ally, Neutral, Enemy
	WithInfantryBody:
		RequiresCondition: !parachute && !disguise
	WithDisguisingInfantryBody:
		IdleSequences: idle1, idle2
		StandSequences: stand
		RequiresCondition: !parachute && disguise
	WithDecoration@disguise:
		Image: pips
		Sequence: pip-disguise
		Palette: pips
		Position: TopRight
		RequiresCondition: disguise

^BuildingCapturer:
	CaptureManager:
	Captures@INSTANT:
		CaptureTypes: building, tech, husk
		RequiresCondition: instantcapture && !chronodisable
	Captures@TIMED:
		CaptureDelay: 75
		CaptureTypes: building, tech, husk
		RequiresCondition: !instantcapture && !chronodisable
	Captures@INSTANTMCV:
		CaptureTypes: mcv
		RequiresCondition: instantcapture && !chronodisable && !suddendeath
	Captures@TIMEDMCV:
		CaptureTypes: mcv
		CaptureDelay: 75
		RequiresCondition: !instantcapture && !chronodisable && !suddendeath
	GrantConditionOnPrerequisite@INSTANTCAPTURE:
		Condition: instantcapture
		Prerequisites: global-instantcapture

^BuildingRepairer:
	InstantlyRepairs:
		Types: building
		RepairSound: urepair.wav
	InstantlyRepairs@CIV:
		Types: civilian
		RepairSound: urepair.wav
		ValidRelationships: Ally, Neutral
	RepairsBridges:
		RepairNotification: BridgeRepaired

^DetectCloaked:
	DetectCloaked:
		Range: 5c0
	IgnoresDisguise:

^WithDeathEffects:
	Explodes@Corpse:
		DeathTypes: NonTemporal, ExplosionDeath, BulletDeath
		Weapon: CorpseSpawner
		EmptyWeapon: CorpseSpawner
	WithDeathAnimation@normal:
		DeathSequencePalette: infantry
		DeathTypes:
			ExplosionDeath: 1
			BulletDeath: 2
	WithDeathAnimation@effect:
		DeathSequencePalette: effect
		DeathPaletteIsPlayerPalette: False
		DeathTypes:
			RadiationDeath: 4
			PsychicDeath: 5
			ElectroDeath: 6
			VirusDeath: 7
			BruteDeath: 8
	SpawnActorOnDeath@flames:
		Actor: FLAMEGUY
		DeathType: FlameDeath
	SpawnActorOnDeath@brute:
		Actor: brute.spawner
		DeathType: MutationDeath
		OwnerType: Killer
	SpawnSmokeParticleOnDeath@virus:
		Amount: 1
		Image: txgasg
		Sequences: idle
		Palette: effect
		Weapon: CloudDamage
		Duration: 250
		DeathTypes: VirusDeath
		Speed: 0, 25
		TurnRate: 10
	DeathSounds@normal:
		DeathTypes: ExplosionDeath, BulletDeath
	DeathSounds@zapped:
		Voice: Zapped
		DeathTypes: ElectroDeath
	DeathSounds@radiation:
		Voice: Melted
		DeathTypes: RadiationDeath
	DeathSounds@psycrush:
		Voice: PsyCrush
		DeathTypes: PsychicDeath, BruteDeath
	DeathSounds@virus:
		Voice: Virus
		DeathTypes: VirusDeath

^WithNormalDeathEffects:
	WithDeathAnimation@normal:
		DeathTypes:
			ExplosionDeath: 1
			BulletDeath: 2
			FlameDeath: 1
			RadiationDeath: 1
			PsychicDeath: 1
			ElectroDeath: 2
			VirusDeath: 2
			BruteDeath: 1
	DeathSounds@normal:
		DeathTypes: ExplosionDeath, BulletDeath, RadiationDeath, PsychicDeath, ElectroDeath, FlameDeath, VirusDeath, BruteDeath

^SelfHealing:
	ChangesHealth:
		PercentageStep: 1
		Step: 0
		Delay: 100
		DamageCooldown: 100
		StartIfBelow: 100

^UnderWaterCloak:
	Cloak:
		CloakedCondition: cloaked
		DetectionTypes: Underwater
		InitialDelay: 50
		CloakDelay: 75
		CloakSound: vnavupa.wav
		UncloakSound: vnavupa.wav
		UncloakOn: Attack, Damage
		IsPlayerPalette: true
		Palette: player50alpha
	LeavesTrails:
		RequiresCondition: !cloaked
	Targetable:
		RequiresCondition: !cloaked
	Targetable@UNDERWATER:
		TargetTypes: UnderWater
		RequiresCondition: cloaked

^Wanderer:
	Wanders:
		MinMoveDelay: 150
		MaxMoveDelay: 750
		RequiresCondition: !controlled

^Panicker:
	ScaredyCat:
		AttackPanicChance: 0

^SuddenDeathModifier:
	MustBeDestroyed:
		RequiresCondition: !suddendeath
	GrantConditionOnPrerequisite@SUDDENDEATH:
		Condition: suddendeath
		Prerequisites: global-suddendeath

^KingOfTheHillModifier:
	GrantConditionOnPrerequisite@koth:
		Condition: koth
		Prerequisites: global-koth
	DamageMultiplier@koth:
		Modifier: 0
		RequiresCondition: koth
	KillsSelf:
		RemoveInstead: true
		RequiresCondition: !koth

^WithTooltip:
	Tooltip:
		RequiresCondition: showownername
	Tooltip@NoRow:
		ShowOwnerRow: false
		RequiresCondition: !showownername
	GrantConditionOnPrerequisite@SHOWOWNERNAME:
		Condition: showownername
		Prerequisites: global-showownername

^GiveMoneyCrateOnDeath:
	SpawnActorOnDeath@crate:
		DeathType: NonTemporal
		Actor: crate.money

^GiveCrateOnDeath:
	SpawnActorOnDeath@crate:
		DeathType: NonTemporal
		Actor: crate

^AffectedByBorisAirStrike:
	WithColoredOverlay@FLARE:
		Color: FF000080
		RequiresCondition: flare
	ExternalCondition@FLARE:
		Condition: flare

^WithAmmoPool:
	AmmoPool:
		Ammo: 3
		AmmoCondition: ammo
	WithAmmoPipsDecoration:
		Margin: 4, 3
		FullSequence: pip-ammo
		EmptySequence: pip-ammoempty
		Palette: ra
		Position: BottomLeft
		RequiresSelection: true

^RepairableVehicle:
	Repairable@GROUND:
		Voice: Move
		RepairActors: gadept, nadept, caoutp

^RepairableShip:
	Repairable@WATER:
		Voice: Move
		RepairActors: gayard, nayard, yayard

^AnnounceProduction:
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		Voice: Build
		ValidRelationships: None
		RequiresCondition: produced

^DetectUnderWater:
	DetectCloaked@UNDERWATER:
		DetectionTypes: Underwater
		Range: 4c0
	RenderDetectionCircle:

^MissileSpawner:
	MissileSpawnerMaster:
		SpawnAllAtOnce: true
		RespawnTicks: 200
		LoadedCondition: loaded
	WithSpawnerMasterPipsDecoration:
		Margin: 4, 3
		Palette: ra
		Position: BottomLeft
		RequiresSelection: true
	GrantExternalConditionToSpawnedMissile:
		Condition: rank-elite
		RequiresCondition: rank-elite
